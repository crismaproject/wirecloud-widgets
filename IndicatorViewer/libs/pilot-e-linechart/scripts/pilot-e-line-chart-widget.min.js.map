{"version":3,"file":"pilot-e-line-chart-widget.min.js","sources":["pilot-e-line-chart-widget.min.js"],"names":["angular","module","directive","controller","scope","worldstateId","width","height","$scope","ICMM_API","$resource","$q","setValues","vRequests","vOnSite","vOnTheWay","vAlarmed","res","allEntities","allOoiWs","ooiWs","get","ws","createWsChain","incidentAreaWkt","ooiEntityRes","ooiWsChain","ooiWsRes","getMinutes","curWs","chain","parentworldstate","worldstatedata","some","di","ai","datadescriptor","id","$ref","indexOf","JSON","parse","actualaccessinfo","push","splice","length","forEach","wsId","p","$promise","index","ws0","wsN","parseInt","Date","dateTime","all","then","query","entities","entity","entityTypeId","found","obj","x","y","entityInstancesProperties","entityTypePropertyId","entityPropertyValue","vr","entityName","i","incidentPolygon","Terraformer","Polygon","WKT","sort","a","b","onSiteCount","alarmedCount","onTheWayCount","minutes","entityPos","onTheWay","point","entityInstancesGeometry","geometry","wellKnownText","coordinates","Math","abs","Tools","polygonContainsPoint","v","data","values","key","xAxisTickFormatFunction","dataitem","yAxisTickFormatFunction","xFunction","yFunction","$watch","n","restrict","templateUrl","run","$templateCache","put"],"mappings":"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"}